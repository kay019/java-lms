# 🚀 3단계 - 수강신청(DB 적용)
***

## 코드 리뷰
> PR 링크 : [#798](https://github.com/next-step/java-lms/pull/798)

## 나의 학습 목표

### 1. 객체 주도 설계를 진행해보자
- 평소 DB 설계 시 테이블 주도 설계로 진행해 왔지만 이번 기회에 교육 취지에 맞게 `객체 주도 설계`를 진행해보자.

### 2. 도메인 객체 수정을 최소화하자
- 이전 단계에서 도메인 객체 설계를 진행했고, 이번 단계에서는 도메인 객체 수정을 최소화하며 DB 테이블과 매핑해보자. 


## 핵심 학습 목표

- 2단계에서 구현한 객체 구조(도메인 구조)를 가능한 유지하면서 DB 테이블과 매핑한다.
- 성능보다 도메인 객체에 로직 구현하는 것을 목표로 연습한다
  - 객체 구조를 유지하기 위해 여러 번의 DB 쿼리를 실행해도 괜찮다.

## 프로그래밍 요구사항

- 앞 단계에서 구현한 도메인 모델을 DB 테이블과 매핑하고, 데이터를 저장한다.
  - CRUD 쿼리와 코드를 구현하는데 집중하기 보다 테이블을 설계하고 객체 매핑하는 부분에 집중한다.
- Payment는 테이블 매핑을 고려하지 않아도 된다.

## 참고할 코드

- DB 테이블 추가 : src/main/resources/schema.sql

```sql
create table course (
    id bigint generated by default as identity,
    title varchar(255) not null,
    creator_id bigint not null,
    created_at timestamp not null,
    updated_at timestamp,
    primary key (id)
);
```

- 테이블에 샘플 데이터를 추가하고 싶다면 src/main/resources/data.sql 파일에 추가 가능함

### CRUD 코드

- src/main/java 폴더의 nextstep.courses.infrastructure.JdbcCourseRepository
- JdbcCourseRepository 샘플 코드는 Spring JDBC 라이브러리를 활용해 구현함

### CRUD 코드에 대한 테스트 코드

- src/test/java 폴더의 nextstep.courses.infrastructure.CourseRepositoryTest